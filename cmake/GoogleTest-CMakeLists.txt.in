cmake_minimum_required(VERSION 3.20.0)

# Project name for the Google Test download
project(googletest-download NONE)

# Include the ExternalProject module to manage external dependencies
include(ExternalProject)

# Define the external project for Google Test
ExternalProject_Add(
  googletest
  # Specify the Git repository for Google Test
  GIT_REPOSITORY https://github.com/google/googletest.git
  # Use a stable release tag instead of the master branch for better stability
  GIT_TAG release-1.11.0  # Change this to the desired stable version
  # Define the source and binary directories
  SOURCE_DIR "${CMAKE_BINARY_DIR}/googletest-src"
  BINARY_DIR "${CMAKE_BINARY_DIR}/googletest-build"
  # Skip the configure, build, install, and test commands as we only need the source
  CONFIGURE_COMMAND ""
  BUILD_COMMAND ""
  INSTALL_COMMAND ""
  TEST_COMMAND ""
)

# Optionally, you can add a message to inform the user about the download
message(STATUS "Downloading Google Test from ${GIT_REPOSITORY} at tag ${GIT_TAG}")
